<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="keywords" content="
			Nerver stop thinking
		">
    <meta name="description" content="杨小福的博客，记点笔记">
    <title>
         Nerver stop thinking 
    </title>
    <link rel="stylesheet" href="/css/public.css">
    <link rel="stylesheet" href="/css/page.css">
    <link rel="stylesheet" href="/css/monokai.min.css">
    <link rel="stylesheet" href="/css/post_add.css">
    <link id="theme-highlight" rel="stylesheet" data-href="//cdn.bootcss.com/highlight.js/8.9.1/styles/atelier-dune.light.min.css">
    <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?0904845f91ea208faa55eaa72f93fab1";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
    </script>
</head>

<body>
    <div id="headerWrapper" class="cf">
        <header id="header" class="cf">
            <div id="logo">
                <h1 class="logo">
					<a href="/">Yangxiaofu</a>
				</h1>
                <div class="logo-subtitle">
                    programmer
                </div>
            </div>
            <nav id="main-nav">
                <ul>
                    <li><a href="/">首页</a></li>
                    <li><a href="/archives">博文</a></li>
                    <li><a href="/websites/index.html">网址导航</a></li>
                    <li><a href="/about">关于</a></li>
                </ul>
            </nav>
        </header>
    </div>
    
	<div id="pageWrapper">
		<div id="mainContent">
			<article class="post">
				
				 		
						<header>
							<h1>
								<a href="/2015/11/29/the-little-prince/" target="_blank">帽子还是蟒蛇，黑匣子真是我们需要的吗？</a>
							</h1>
							<div class="post-info">
								<span class="post-time">
									<a class="permalink" href="" >2015-11-29</a>
								</span>
								<span class="post-tag">
									
									
										<a class="tag" href="http://www.yangxiaofu.com/tags/随笔/" target="_blank">随笔</a>
									
								</span>
							</div>
						</header>
						<div class="post-body">
							
								<div class="post-excerpt">
									<p><style>blockquote p{background:#fefbec;padding: 5px 10px;}</style></p>
<h2 id="小王子与飞行员">小王子与飞行员</h2><p><img src="/img/little-price/prince.jpg" alt="prince"><img src="/img/little-price/prince02.jpg" alt="prince"><img src="/img/little-price/prince03.jpeg" alt="prince"></p>
<blockquote>
<p>《小王子》是法国作家安东尼·德·圣.埃克苏佩里于1942年写成的著名儿童文学短篇小说。本书的主人公是来自外星球的小王子。书中以一位飞行员作为故事叙述者，讲述了小王子从自己星球出发前往地球的过程中，所经历的各种历险。作者以小王子的孩子式的眼光，透视出成人的空虚、盲目，愚妄和死板教条，用浅显天真的语言写出了人类的孤独寂寞、没有根基随风流浪的命运。</p>
</blockquote>
								</div>
								<div class="post-more">
									<h2 id="帽子还是蟒蛇">帽子还是蟒蛇</h2><p>飞行员小的时候[那时他想成为一名画家]对丛林中的奇遇想得很多，于是，于是他也用彩色铅笔画出了第一 副图画。第一号作品。它是这样的：</p>
<p><img src="/img/little-price/hat.jpg" alt="蛇吞象"></p>
<p>当他把这副杰作拿给大人看时，大人们的反应都是：”这是一顶帽子”</p>
<blockquote>
<p>为了让大人们能看懂这幅画，于是我又把巨蟒肚子里的情况画了出来，以便让大人们能够看懂。这些大人总是需要解释。我的第二号作品是这样的：</p>
</blockquote>
<p><img src="/img/little-price/sneak.jpg" alt="蛇吞象"></p>
<p>但这对大人们来说并不是什么值得关心的事。</p>
<blockquote>
<p>就这样，在六岁的那年，我就放弃了 当画家这一美好的职业。我的第一号、第二号作品的不成功，使我泄了气。这些 大人们，靠他们自己什么也弄不懂，还得老是不断地给他们作解释。</p>
</blockquote>
<p>你是不是第一眼看到那幅画，你就在心里告知自己，那不过是一顶帽子而已。Can we find something else?</p>
<p>编程是一种艺术，如同画家、音乐家一样，我们的作品需要想象力的支持。</p>
<h2 id="黑匣子真是我们需要的吗？">黑匣子真是我们需要的吗？</h2><p>飞行员因为飞机出了故障，被迫降落在远离人烟的撒哈拉沙漠上，这时一位迷人而神秘的小男孩出现了，执拗地请“我”给他画一只小绵羊。他就是小王子，纯洁、忧郁、爱提问。</p>
<p>于是飞行员给他画了第一只羊：</p>
<p><img src="/img/little-price/sheep01.jpg" alt="病重的羊"></p>
<p>小王子专心地看着，随后又说：</p>
<blockquote>
<p>“我不要，这只羊已经病得很重了。给我重新画一只。”</p>
</blockquote>
<p>于是飞行员又画了一只：</p>
<p><img src="/img/little-price/sheet02.jpg" alt="公羊"></p>
<blockquote>
<p>我的这位朋友天真可爱地笑了，并且客气地拒绝道：“你看，你画的不是小羊，是头公羊，还有犄角呢。</p>
</blockquote>
<p>于是我又重新画了一张。<br><img src="/img/little-price/sheet03.jpg" alt="老羊"></p>
<p>这副画同前几副一样又被拒绝了。</p>
<blockquote>
<p>“这一只太老了。我想要一只能活得长的羊。”</p>
</blockquote>
<p>我不耐烦了。因为我急于要检修发动机，于是就草草画了这张画，并且匆匆 地对他说道：</p>
<p><img src="/img/little-price/sheeet-04.jpg" alt="箱子"></p>
<blockquote>
<p>“这是一只箱子，你要的羊就在里面。”</p>
</blockquote>
<p>这时我十分惊奇地看到我的这位小评判员喜笑颜开。他说：</p>
<blockquote>
<p>“这正是我想要的，……你说这只羊需要很多草吗？”<br>“为什么问这个呢？”<br>“因为我那里地方非常小……”<br>“我给你画的是一只很小的小羊，地方小也够喂养它的。”<br>他把脑袋靠近这张画。<br>“并不象你说的那么小……瞧！它睡着了……”</p>
</blockquote>
<p>作为一名程序员，我们拥有许多的黑箱，而且我们使用的不亦乐乎。但是我们是否考虑过，当黑箱无法正常工作的时候，我们该怎么办？</p>
								</div>
								<a class="postMore" href="javascript:void(0);" data-show="false">......查看全文</a>
							
						</div>
						<hr>
				 	
				
				 		
						<header>
							<h1>
								<a href="/2015/11/28/jquery-is-not-must/DOM-selector/" target="_blank">jQuery is not must for us--元素选取</a>
							</h1>
							<div class="post-info">
								<span class="post-time">
									<a class="permalink" href="" >2015-11-28</a>
								</span>
								<span class="post-tag">
									
									
										<a class="tag" href="http://www.yangxiaofu.com/tags/jquery/" target="_blank">jquery</a>
									
								</span>
							</div>
						</header>
						<div class="post-body">
							
								<div class="post-excerpt">
									<h2 id="元素选择">元素选择</h2><p>1 .ID<br>2 .class<br>3 .Tag<br>4 .Attributes<br>5 .伪类<br>6 .孩子选择器<br>7 .后代选择器<br>8 .排除选择器<br>9 .多组选择器</p>
<h3 id="ID">ID</h3><h4 id="jQuery">jQuery</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"#myElement"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="DOM_API">DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"myElement"</span>);</span><br><span class="line"><span class="comment">/*IE 8+*/</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#myElement'</span>);</span><br></pre></td></tr></table></figure>
								</div>
								<div class="post-more">
									<h3 id="class">class</h3><h4 id="jQuery-1">jQuery</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'.myElement'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="DOM_API-1">DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*ie 9+*/</span></span><br><span class="line"><span class="built_in">document</span>.getElementsByClassNmae(<span class="string">'.myElement'</span>);</span><br><span class="line"><span class="comment">/*ie 8+*/</span></span><br><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">'.myElement'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="Tag">Tag</h3><h4 id="jQuery-2">jQuery</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'div'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="DOM_API-2">DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>);</span><br><span class="line"><span class="comment">/**ie 8+/</span><br><span class="line">document.querySelectorAll('div');</span></span><br></pre></td></tr></table></figure>
<h3 id="Attribute[属性]">Attribute[属性]</h3><h4 id="jQuery-3">jQuery</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'[data-bar="red-bar"'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="DOM_API-3">DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*ie 8+*/</span></span><br><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">'[data-bar="red-bar"'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="伪类">伪类</h3><h4 id="jQuery-4">jQuery</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'#myForm:invalid'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="DOM_API-4">DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//IE 10+</span></span><br><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">'#myForm:invalid'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="孩子选择器">孩子选择器</h3><h4 id="jQuery-5">jQuery</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'#parent'</span>).children();</span><br></pre></td></tr></table></figure>
<h4 id="DOM_API-5">DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*会返回注释和文本节点*/</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'parent'</span>).childNodes</span><br><span class="line"><span class="comment">/*ie 9+ 忽略注释和文本节点*/</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'parent'</span>).children;</span><br></pre></td></tr></table></figure>
<p>选择包含ng-click属性的子节点</p>
<h4 id="jQuery-6">jQuery</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'#parent'</span>).children(<span class="string">'[ng-click]'</span>);</span><br><span class="line">$(<span class="string">'#parent &gt; [ng-click]'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="DOM_API-6">DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#parent &gt; [ng-click]'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="后代选择">后代选择</h3><h4 id="jQuery-7">jQuery</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"#parent a"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="DOM_API-7">DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">"#parent a"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="排除选择">排除选择</h3><h4 id="jQuery-8">jQuery</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).not(<span class="string">'.ignore'</span>);</span><br><span class="line">$(<span class="string">'div:not(.ignore)'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="DOM_API-8">DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">documenet.querySelectorAll(<span class="string">'div:not(.ignore)'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="多重选择">多重选择</h3><h4 id="jQuery-9">jQuery</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">'DIV, A, SCRIPT'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="DOM_API-9">DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">'DIV, A, SCRIPT'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="jQuery选择器模拟">jQuery选择器模拟</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.$ = <span class="function"><span class="keyword">function</span>(<span class="params">selector</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> selectorType = <span class="string">'querySelectorAll'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (selector.indexOf(<span class="string">'#'</span>) === <span class="number">0</span>) &#123;</span><br><span class="line">        selectorType = <span class="string">'getElementById'</span>;</span><br><span class="line">        selector = selector.substr(<span class="number">1</span>, selector.length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">document</span>[selectorType](selector);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
								</div>
								<a class="postMore" href="javascript:void(0);" data-show="false">......查看全文</a>
							
						</div>
						<hr>
				 	
				
				 		
						<header>
							<h1>
								<a href="/2015/11/28/js-prototype/" target="_blank">prototype、__proto__、constructor、this——不懂别说会JS</a>
							</h1>
							<div class="post-info">
								<span class="post-time">
									<a class="permalink" href="" >2015-11-27</a>
								</span>
								<span class="post-tag">
									
									
										<a class="tag" href="http://www.yangxiaofu.com/tags/jquery/" target="_blank">jquery</a>
									
										<a class="tag" href="http://www.yangxiaofu.com/tags/js/" target="_blank">js</a>
									
								</span>
							</div>
						</header>
						<div class="post-body">
							
								<div class="post-excerpt">
									<p><img data-src="/img/prototype/so_many_questions.png" alt="so_many_questions"><br>刚开始接触js的时候，我的疑问就像上面密密麻麻的问题。。。</p>
<h2 id="JS对象">JS对象</h2><ul>
<li>每一个Javascript对象(null除外)都和另一个对象相关联，即原型，每一个对象都从原型继承属性。</li>
<li>所有通过对象直接量创建的对象都具有同一个原型对象，通过Object.prototype可以获得对原型对象的引用。</li>
<li>通过new关键字和构造函数创建的对象的原型就是构造函数的prototype属性的值</li>
<li>普通的原型对象属于普通对象，普通对象都具有原型(Object.prototype比较特殊，不继承任何属性)</li>
<li>所有的内置构造函数以及大部分自定义构造函数都具有一个继承自Object.prototype的原型</li>
<li>构造函数的原型中存在预先定义好的constructor属性，对象继承的constructor均指代他们的构造函数。构造函数是类的标识，因此这个constructor属性为对象提供了类</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> F();</span><br><span class="line">o.constructor === F	<span class="comment">/*true,指代类本身*/</span></span><br></pre></td></tr></table></figure>
								</div>
								<div class="post-more">
									<h2 id="Javascript中class的写法">Javascript中class的写法</h2><p>注：为和普通函数区别开，类的命名首字母一般是大写</p>
<p>下面定义了Cat、cat类<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*写法一：*/</span></span><br><span class="line"><span class="keyword">var</span> Cat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.animal = <span class="string">"Cat:大写的猫"</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.animal = <span class="string">"cat:小写的猫"</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*写法二：*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.animal = <span class="string">"Cat:大写的猫"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cat</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.animal = <span class="string">"Cat:小写的猫"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里输出的结果是相同的，即类的命名首字母大写并不是强制的</p>
<h3 id="对象生成">对象生成</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> objCat = <span class="keyword">new</span> Cat; <span class="comment">/*大写的猫对象*/</span></span><br><span class="line"><span class="keyword">var</span> objcat = <span class="keyword">new</span> cat; <span class="comment">/*小写的猫对象*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*输出*/</span></span><br><span class="line"><span class="built_in">console</span>.log(objCat, objcat);</span><br></pre></td></tr></table></figure>
<p><img src="/img/prototype/cat-01.png" alt="类的命名首字母大写并不是强制的"></p>
<p>从上面我们可以看到:对象objCat——&gt;<strong>proto</strong>[Cat类]——&gt;<strong>proto</strong>[Object对象],这就是所谓的继承链.</p>
<h2 id="prototype_VS_proto_对象">prototype VS <strong>proto</strong> 对象</h2><h3 id="添加prototype对象">添加prototype对象</h3><p>这里给Cat添加prototype对象,cat不做改动</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*写法一：*/</span></span><br><span class="line"><span class="keyword">var</span> Cat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.animal = <span class="string">"Cat:大写的猫"</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.animal = <span class="string">"cat:小写的猫"</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Cat.prototype.eat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"I like fish!"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>说明：同一个类生成的所有对象会共用类的prototype对象上挂载的方法和属性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">redCat = <span class="keyword">new</span> Cat;</span><br><span class="line">greenCat = <span class="keyword">new</span> Cat;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(redCat.eat(), greenCat.eat());</span><br></pre></td></tr></table></figure>
<p>redCat和greenCat调用的是同一个方法即Cat.prototype.eat,所以都会输出”I like fish!”.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Cat.prototype.eat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"I like fish!"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>/<em>同样输出两个生成的对象</em>/</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(objCat, objcat);</span><br></pre></td></tr></table></figure>
<p><img src="/img/prototype/cat-02.png" alt="这里给Cat添加prototype对象,cat不做改动"></p>
<p>从上图可以发现大写的猫对象多输出了两行,这里出现了一个”<strong>proto</strong>“属性,那么它代表什么呢？因为这是我们的Cat类设置了prototype后Cat对象才出现的属性，所以我们可以猜测这两者之间有某种密切的关系，为了验证我们的想法，我们可以输出测试一下。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(objCat.__proto__, Cat.prototype);</span><br></pre></td></tr></table></figure>
<p><img src="/img/prototype/cat-03.png" alt="console.log(objCat.__proto__, Cat.prototype)"></p>
<p>我们可以惊奇的发现输出结果一模一样，为了再次证明它们是同一个东西，我们再次进行验证</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*注意这里是3个等号哦*/</span></span><br><span class="line"><span class="built_in">console</span>.log(objCat.__proto__ === Cat.prototype);  			<span class="comment">/*result:true*/</span></span><br><span class="line"><span class="built_in">console</span>.log(objCat.__proto__.eat(), Cat.prototype.eat());	<span class="comment">/*I like fish! I like fish!,调用了同一个 eat 方法*/</span></span><br></pre></td></tr></table></figure>
<p>从这里我们可以得一个结论：对象会继承类的prototype对象并存在一个名为”<strong>proto</strong>“的属性中,即对象的”<strong>proto</strong>“属性指向生成它的类的”prototype”对象</p>
<p class="text-important">protoype和<strong>proto</strong>统称为原型对象，但前者是在类中，后者是在对象中的表示，实例对象中没有prototype属性的</p>

<h2 id="constructor属性">constructor属性</h2><p>构造函数的原型中存在预先定义好的constructor属性，对象继承的constructor均指代他们的构造函数。构造函数是类的标识，因此这个constructor属性为对象提供了类.</p>
<p>这句话怎么来理解呢？</p>
<p>1 .构造函数的原型中存在预定义好的constructor属性<br>2 .constructor指代他们的构造函数<br>3 .constructor属性为对象提供了类</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> CatConstructor = Cat.prototype.constructor;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Cat:"</span>, Cat, Cat.prototype);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"CatConstructor:"</span>, CatConstructor, CatConstructor.prototype);</span><br></pre></td></tr></table></figure>
<p>这里为了更清晰的理解上面这几个点，我们将Cat类的原型的constructor属性赋值给CatConstructor,然后分别打印他们本身以及他们的原型对象。</p>
<p><img src="/img/prototype/cat-04.png" alt="Cat.prototype.constructor"></p>
<p>从上图我们可以发现两者是完全一样的，即Cat.prototype.constructor等于Cat本身。</p>
<p>那么第三点怎么理解呢？既然constructor代表Cat构造函数本身，那么我们是不是可以用它来生成对象——类才具有的功能</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> CatConstructor = Cat.prototype.constructor;</span><br><span class="line"><span class="keyword">var</span> newObjCat = <span class="keyword">new</span> CatConstructor;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"objCat:"</span>, objCat, <span class="string">"newObjCat"</span>, newObjCat);</span><br></pre></td></tr></table></figure>
<p><img src="/img/prototype/cat-05.png" alt=""objCat:", objCat, "newObjCat", newObjCat"></p>
<p>如我们所料，上面输出的objCat和newObjCat结果是一样的，所以验证了第三点，类的原型的constructor属性即类本身</p>
<h2 id="this——到底指向了谁">this——到底指向了谁</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Cat.init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"Cat:"</span>, <span class="keyword">this</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Cat.prototype.init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"Cat-prototype:"</span>, <span class="keyword">this</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Cat.init();				<span class="comment">/*this代表Cat类本身*/</span></span><br><span class="line">Cat.prototype.init();	<span class="comment">/*this代表Cat.prototype对象*/</span></span><br><span class="line"></span><br><span class="line">objCat.init();			<span class="comment">/*this代表objCat对象本身*/</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/prototype/cat-06.png" alt="this——到底指向了谁"></p>
<p>从上图可以发现，输出为：</p>
<p>Cat.init():输出构成函数本身<br>Cat.prototype.init():输出类的原型对象<br>objCat.init(): 输出结果都是objCat对象本身且调用的是Cat.prototype.init方法</p>
<p>从上面我们可以知道this始终指向调用方法的对象本身</p>
<h3 id="构造函数中调用原型对象上绑定的方法——指向谁呢">构造函数中调用原型对象上绑定的方法——指向谁呢</h3><p>注：当我们在说构造函数的时候，其实是将构造函数和类等同起来</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*jquery构造函数模拟*/</span></span><br><span class="line"><span class="keyword">var</span> Cat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.animal = <span class="string">"Cat:大写的猫"</span>;</span><br><span class="line">	<span class="comment">/*调用原型上绑定的init方法*/</span></span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> Cat.prototype.init();</span><br><span class="line">&#125;;</span><br><span class="line">Cat.prototype = &#123;</span><br><span class="line">	init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>;	<span class="comment">/*当做为构造函数时，返回值好像并没有啥用处*/</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">Cat.prototype.init.prototype = Cat.prototype;</span><br><span class="line"></span><br><span class="line">Cat();</span><br></pre></td></tr></table></figure>
<h3 id="稍稍复杂一点的情况">稍稍复杂一点的情况</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Cat = <span class="function"><span class="keyword">function</span>(<span class="params">params</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.animal = <span class="string">"Cat:大写的猫"</span>;</span><br><span class="line">	<span class="comment">/*调用原型上绑定的init方法*/</span></span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> Cat.prototype.init(params);</span><br><span class="line">&#125;;</span><br><span class="line">Cat.prototype = &#123;</span><br><span class="line">    init: <span class="function"><span class="keyword">function</span>(<span class="params">params</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.animal = params;</span><br><span class="line">        <span class="keyword">this</span>.type = params;</span><br><span class="line">        <span class="keyword">this</span>.color = params;</span><br><span class="line">    &#125;,</span><br><span class="line">    eat: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"I like fish!"</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    name: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.animal;</span><br><span class="line">    &#125;,</span><br><span class="line">    color: <span class="string">'yellow'</span></span><br><span class="line">&#125;</span><br><span class="line">Cat.prototype.init.prototype = Cat.prototype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> redCat = Cat(<span class="string">"redCat"</span>);</span><br><span class="line"><span class="keyword">var</span> greenCat = Cat(<span class="string">"greenCat"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(redCat, greenCat);</span><br></pre></td></tr></table></figure>
<p>输出结果如下：</p>
<p><img src="/img/prototype/cat-07.png" alt="jquery对象生成方式模拟"></p>
<p class="text-important">这里的init方法里的this指向的是Cat.prototype,init方法里的animal和Cat类的animal也没有关系,init这时相当于我们的构造函数，而它自身又是自身的prototype里的一个方法[是不是已已绕晕。。。]</p>

<ul>
<li>this.animal = params;</li>
<li>this.type = params;</li>
<li>this.color = params;</li>
</ul>
<p>它们是构造函数即类的属性，而init函数外面的color: ‘yellow’是挂在原型上的，所以生成的对象在访问color属性的时候是获取构造函数里的值[原型链继承的优先级]</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(redCat.__proto__.color);		<span class="comment">/*输出结果是:yelow,说明我的确是挂在类的原型上的*/</span></span><br></pre></td></tr></table></figure>
<p class="text-important">上述的jquery构造函数语法模拟的一个不足就是无法得到Cat类上的属性,如Cat里的animal.[如果你有好的方法获取请告知我]</p>
								</div>
								<a class="postMore" href="javascript:void(0);" data-show="false">......查看全文</a>
							
						</div>
						<hr>
				 	
				
				 		
						<header>
							<h1>
								<a href="/2015/11/25/web组件/轮播图的一个实现思路/" target="_blank">轮播图，So easy</a>
							</h1>
							<div class="post-info">
								<span class="post-time">
									<a class="permalink" href="" >2015-11-25</a>
								</span>
								<span class="post-tag">
									
									
										<a class="tag" href="http://www.yangxiaofu.com/tags/css/" target="_blank">css</a>
									
										<a class="tag" href="http://www.yangxiaofu.com/tags/jquery/" target="_blank">jquery</a>
									
										<a class="tag" href="http://www.yangxiaofu.com/tags/js/" target="_blank">js</a>
									
										<a class="tag" href="http://www.yangxiaofu.com/tags/插件/" target="_blank">插件</a>
									
								</span>
							</div>
						</header>
						<div class="post-body">
							
								<div class="post-excerpt">
									<h2 id="轮播效果预览">轮播效果预览</h2><p><style>iframe{width: 100%;min-height: 400px;}</style></p>
<iframe src="/compents/galler/index.html" frameborder="0"></iframe>
								</div>
								<div class="post-more">
									<h3 id="结构布局">结构布局</h3><p>三层布局：</p>
<p>——page-wrapp<br>—— ——item-wrap[轮播效果是通过这一层的滚动实现的]<br>—— —— ——sub-item</p>
<p>说明：</p>
<ul>
<li>page-wrapp作为轮播盒子框架，即限定可见区域</li>
<li>item-wrap作为轮播外层的盒子</li>
<li>sub-item作为每一个轮播图的盒子</li>
</ul>
<p>1 .page-wrapp的宽高等于sub-item的宽高,page-wrapp的overflow属性设为hidden,这样超出page-wrap范围的将是不可见的<br>2 .item-wrap的宽度等于sub-item的总宽度，,多个sub-item并排[可以用浮动的方式实现],高度等于sub-item的高度.<br>3 .这样虽然item-wrap的宽度大于page-wrapp的宽度，但因为page-wrapp设置了overflow:hidden,所以也只能显示一张图片的大小。<br>4 .为了得到轮播的效果这时可以使用动画将item-wrap在水平方向平移，也就得到了轮播的效果</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"page-wrapp"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"item-wrap"</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"sub-item"</span>&gt;</span></span><br><span class="line">	    	<span class="tag">&lt;<span class="title">img</span> <span class="attribute">src</span>=<span class="value">"/img/compents/background01.jpg"</span> <span class="attribute">alt</span>=<span class="value">""</span> <span class="attribute">class</span>=<span class="value">"img-item"</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"sub-item"</span>&gt;</span></span><br><span class="line">	    	<span class="tag">&lt;<span class="title">img</span> <span class="attribute">src</span>=<span class="value">"/img/compents/cat-cartoon.jpg"</span> <span class="attribute">alt</span>=<span class="value">""</span> <span class="attribute">class</span>=<span class="value">"img-item"</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"sub-item"</span>&gt;</span></span><br><span class="line">	    	<span class="tag">&lt;<span class="title">img</span> <span class="attribute">src</span>=<span class="value">"/img/compents/cup.jpg"</span> <span class="attribute">alt</span>=<span class="value">""</span> <span class="attribute">class</span>=<span class="value">"img-item"</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"sub-item"</span>&gt;</span></span><br><span class="line">	    	<span class="tag">&lt;<span class="title">img</span> <span class="attribute">src</span>=<span class="value">"/img/compents/leaf.jpg"</span> <span class="attribute">alt</span>=<span class="value">""</span> <span class="attribute">class</span>=<span class="value">"img-item"</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"sub-item&gt;</span><br><span class="line">	    	&lt;img src="</span>/<span class="attribute">img</span>/<span class="attribute">compents</span>/<span class="attribute">nature01.jpg</span>" <span class="attribute">alt</span>=<span class="value">""</span> <span class="attribute">class</span>=<span class="value">"img-item"</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>css样式</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*这里的样式是针对全屏设置的，最外层的轮播框架宽高在此设为浏览器窗口的大小*/</span></span><br><span class="line"><span class="class">.page-wrapper</span>,</span><br><span class="line">    <span class="class">.page-wrapper</span> <span class="class">.item-wrap</span>,</span><br><span class="line">    <span class="class">.page-wrapper</span> <span class="class">.sub-item</span>,</span><br><span class="line">    <span class="class">.page-wrapper</span> <span class="class">.sub-item</span> <span class="class">.img-item</span> <span class="rules">&#123;</span><br><span class="line">    	<span class="rule"><span class="attribute">position</span>:<span class="value"> relative</span></span>;</span><br><span class="line">        <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">    &#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="class">.page-wrapper</span> <span class="rules">&#123;</span><br><span class="line">        <span class="rule"><span class="attribute">min-width</span>:<span class="value"> <span class="number">720px</span></span></span>;</span><br><span class="line">        <span class="rule"><span class="attribute">min-height</span>:<span class="value"> <span class="number">500px</span></span></span>;</span><br><span class="line">        <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;</span><br><span class="line">        <span class="rule"><span class="attribute">zoom</span>:<span class="value"> <span class="number">1</span></span></span>;</span><br><span class="line">    &#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="class">.page-wrapper</span> <span class="class">.item-wrap</span> <span class="rules">&#123;</span><br><span class="line">    	<span class="comment">/*因为有5个子元素，所以宽度是5个子元素之和[子元素和父级的宽度是相等的],所以总宽度为父级的5倍*/</span></span><br><span class="line">        <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">500%</span></span></span>;</span><br><span class="line">        <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;</span><br><span class="line">        <span class="rule"><span class="attribute">zoom</span>:<span class="value"> <span class="number">1</span></span></span>;</span><br><span class="line">    &#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="class">.page-wrapper</span> <span class="class">.sub-item</span> <span class="rules">&#123;</span><br><span class="line">        <span class="rule"><span class="attribute">float</span>:<span class="value"> left</span></span>;</span><br><span class="line">        <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">20%</span></span></span>;</span><br><span class="line">    &#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="class">.page-wrapper</span> <span class="class">.sub-item</span> <span class="class">.img-item</span> <span class="rules">&#123;</span><br><span class="line">        <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">    &#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="轮播动画实现">轮播动画实现</h3><p>添加轮播按钮，点击时触发轮播事件</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 轮播按钮 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"left-btn-wrap"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"silder-left-btn"</span> <span class="attribute">id</span>=<span class="value">"leftBtn"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"right-btn-wrap"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"silder-right-btn"</span> <span class="attribute">id</span>=<span class="value">"rightBtn"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这里可以使用jQuery的animate动效实现轮播效果</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*左滚动</span><br><span class="line">参数说明：</span><br><span class="line">$itemWrap=$('.item-wrap'); 轮播外层盒子</span><br><span class="line">*/</span></span><br><span class="line">$leftBtn.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	$itemWrap.animate(&#123;</span><br><span class="line">		<span class="string">'margin-left'</span>: <span class="number">0</span> - $imgItems.width()</span><br><span class="line">	&#125;, <span class="number">1000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="comment">/*轮播一次就动态的将第一个图片元素移到最后，变成最后一张图片，这样可以实现无限循环的效果*/</span></span><br><span class="line">		$itemWrap.append($(<span class="string">'.item-wrap .sub-item'</span>).first());</span><br><span class="line">		$itemWrap.css(<span class="string">"margin-left"</span>,<span class="number">0</span>);</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;）</span><br><span class="line"></span><br><span class="line"><span class="comment">/*右滚动*/</span></span><br><span class="line">$rightBtn.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	$itemWrap.prepend($(<span class="string">'#itemWrap .sub-item'</span>).last());</span><br><span class="line">		$itemWrap.css(<span class="string">"margin-left"</span>,<span class="number">0</span> - $imgItems.width());</span><br><span class="line">	$itemWrap.animate(&#123;</span><br><span class="line">		<span class="string">'margin-left'</span>: <span class="number">0</span></span><br><span class="line">	&#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;）</span><br></pre></td></tr></table></figure>
<p>这样就可以实现一个简单的轮播图的效果，上面给出的事例还带有轮播导航条[右下角],这可以通过增加一个data-index属性来记录轮播索引位置。</p>
<p><a href="/compents/galler/index.html">查看完整demo</a></p>
<p>github:<a href="https://github.com/xiaofuzi/gallery">https://github.com/xiaofuzi/gallery</a></p>
								</div>
								<a class="postMore" href="javascript:void(0);" data-show="false">......查看全文</a>
							
						</div>
						<hr>
				 	
				
				 	
				
				 	
				
				 	
				
				 	
				
				 	
				
				 	
				
			</article>
		</div>
	</div>

    <footer id="footer">
        <i id="upToTop"></i>
        <p>
            联系方式 <span>|</span> <a href="javascript:void(0);">yangxiaofuPL@163.com</a>
        </p>
    </footer>
    <script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/highlight.min.js"></script>
    <script src="/js/post.js"></script>
    <script>
    $(document).ready(function() {
        $('.highlight').each(function(i, block) {
            hljs.highlightBlock(block);
        });
    });
    </script>
</body>

</html>
